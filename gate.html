<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Belépés</title>
    <style>
      body {
        margin: 0;
        height: 100vh; /* teljes magasság */
        display: flex;
        justify-content: center; /* vízszintesen középre */
        align-items: center; /* függőlegesen középre */
        background-color: #f5f5f5; /* csak hogy szebb legyen */
        font-family: Arial, sans-serif;
      }

      div {
        text-align: center;
        padding: 20px 40px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      input {
        padding: 8px;
        font-size: 1em;
        margin-top: 10px;
      }

      button {
        margin-left: 10px;
        padding: 8px 16px;
        font-size: 1em;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="center">
      <h2>Belépés</h2>
      <p>Írd be a jelszót:</p>
      <input id="pwd" type="password" autofocus />
      <button id="go">Belépés</button>
    </div>

    <script>
      const BASE = "/vasvari-webdev/"; // ← ha nálad más az alapút, írd át
      const TARGET = BASE; // pl. BASE+"hu/" ha oda akarsz beléptetni
      const HASH =
        "e661698d21b6cf65acb34373b067c59080a433bcf0cd6fdee58c182eaa8d4f6c"; // ← ide kerül a jelszó SHA-256 hex-e

      async function sha256hex(s) {
        const enc = new TextEncoder().encode(s);
        const buf = await crypto.subtle.digest("SHA-256", enc);
        return [...new Uint8Array(buf)]
          .map((b) => b.toString(16).padStart(2, "0"))
          .join("");
      }

      document.getElementById("go").onclick = async () => {
        const pass = (document.getElementById("pwd").value || "").trim();
        const inputHash = await sha256hex(pass);

        // DEBUG: ha gond van, nézd meg a konzolban a két értéket
        console.log("calc:", inputHash, "expected:", HASH);

        if (inputHash === HASH) {
          try {
            sessionStorage.setItem("vasvari_auth", HASH);
          } catch (_) {}
          location.replace(TARGET);
        } else {
          alert("Helytelen jelszó!");
        }
      };
    </script>
  </body>
</html>
